# Sprite Sheet Slicer - Инструкция

## Интерактивная утилита (Рекомендуется) ⭐

Откройте в браузере файл:
```
public/tileset-slicer-interactive.html
```

### Как использовать интерактивную утилиту:

1. **Загрузите PNG файл** со спрайт-листом
2. **Выберите области вручную:**
   - Зажмите левую кнопку мыши и перетащите для выбора прямоугольной области
   - Каждая выбранная область станет отдельным спрайтом
3. **Редактирование:**
   - Кликните на спрайте для выбора
   - Двойной клик для переименования
   - Shift+клик для множественного выбора
   - Delete или кнопка "Удалить выбранные" для удаления
4. **Масштабирование:**
   - Используйте слайдер для изменения масштаба
   - Кнопка "Подогнать" автоматически подберет размер
5. **Экспорт:**
   - Нажмите "Экспортировать" и затем "Скачать ZIP архив"
   - Получите отдельные PNG файлы и TypeScript код с координатами

### Преимущества:
- ✅ Выбирайте области любого размера
- ✅ Работает с нерегулярными спрайт-листами
- ✅ Визуальный предпросмотр каждого спрайта
- ✅ Возможность переименования спрайтов
- ✅ Автоматическая генерация координат

---

## Автоматическая нарезка по сетке

Откройте в браузере файл:
```
public/tileset-slicer.html
```

### Как использовать:

1. **Загрузите PNG файл** со спрайт-листом
2. **Укажите размер тайла** (по умолчанию 16x16 пикселей)
3. **Укажите префикс** для имен файлов (например: "grass", "water")
4. **Нажмите "Нарезать спрайты"**
5. **Скачайте ZIP архив** с нарезанными тайлами и JSON файлом с координатами

### Что вы получите:

- **Отдельные PNG файлы** для каждого тайла (`tile_0_0.png`, `tile_0_1.png`, и т.д.)
- **tilemap.json** - JSON файл с координатами всех тайлов
- **tilemap.ts** - TypeScript код, готовый для копирования в `pixelholeMap.ts`

## Командная строка (Альтернатива)

Если у вас установлен Node.js и библиотека `canvas`:

```bash
npm install canvas --save-dev
node scripts/slice-spritesheet.js path/to/spritesheet.png --tile-size 16 --output-dir public/tilesets/sliced --output-json tilemap.json
```

### Параметры:

- `--tile-size <size>` - Размер тайла в пикселях (по умолчанию: 16)
- `--output-dir <dir>` - Директория для сохранения (по умолчанию: `public/tilesets/sliced`)
- `--output-json <file>` - Сохранить JSON с координатами
- `--prefix <prefix>` - Префикс для имен файлов (по умолчанию: `tile`)

## Интеграция в проект

После нарезки:

1. Скопируйте координаты из `tilemap.ts` в файл `src/lib/pixelholeMap.ts`
2. Или используйте JSON файл для программной загрузки координат
3. Поместите нарезанные тайлы в `public/tilesets/` или используйте оригинальный спрайт-лист

## Пример использования координат

После нарезки, координаты будут выглядеть так:

```typescript
export const TILEMAP: Record<string, [number, number]> = {
  tile_0_0: [0, 0],
  tile_0_1: [16, 0],
  tile_0_2: [32, 0],
  // ...
};
```

Эти координаты можно использовать в функции `sliceTexture()` для извлечения тайлов из оригинального спрайт-листа.
